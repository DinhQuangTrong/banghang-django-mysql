{% extends "app/base.html" %}
{% load static %}
{% block title %}Trang chủ{% endblock title %}

{% block banner-slider %}
    <div id="carouselExampleIndicators" class="carousel slide carousel-fade">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'app/images/banner/banner4.jpg'%}" class="d-block w-100" alt="banner" height="400">
            </div>
            <div class="carousel-item">
                <img src="{% static 'app/images/banner/banner6.jpg'%}" class="d-block w-100" alt="banner" height="400">
            </div>
            <div class="carousel-item">
                <img src="{% static 'app/images/banner/banner7.jpg'%}" class="d-block w-100" alt="banner" height="400">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
{% endblock banner-slider %}

{% block information %}
<div>
    <div class="row bg-success text-center p-5 text-white border-bottom shadow">
        <h1 class="display-5 fw-bold">Xin chào</h1>
        <small class="fs-5 d-block mt-3">
            Đây là nơi cung cấp các sản phẩm tiêu dùng thiết yếu hằng ngày như thực phẩm, đồ uống, hóa mỹ phẩm và nhiều mặt hàng tiện lợi khác. 
            Tôi xin cam kết mang đến cho bạn những sản phẩm chất lượng với giá cả hợp lý và dịch vụ nhanh chóng, tiện lợi.
            Hãy khám phá các sản phẩm nổi bật bên dưới và lựa chọn những sản phẩm bạn cần!
        </small>
    </div>
</div>
{% endblock information %}

{% block main-content %}

    <div class="container">
        <br>
        <h2 class="text-center mt-2">Sản phẩm nổi bật</h2>
        <br><br>
        <div class="row">
            {% for product in products|slice:":4" %}
            <div class="col-6 col-md-4 col-lg-3 mb-4 wow fadeInUp" data-wow-delay="0.6s">
                <div class="goodnesssec bordercolor smbt text-center p-3 rounded shadow-sm h-100">
                    <a href="{% url 'product-detail' product.id %}">
                        <div class="goodnessseccont">
                            <img src="{{ product.product_image.url }}" class="img-fluid d-block mx-auto" alt="{{ product.title }}">
                            <p class="mlkpro mt-2 fw-bold">{{ product.title }}</p>
                        </div>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>

        <h2 >Sản phẩm</h2>
        <br>
        <div class="row">
            {% for product in products %}
            <div class="col-6 col-md-4 col-lg-2 mb-4">
                <div class="goodnesssec bordercolor text-center p-3 border rounded shadow-sm h-100 d-flex flex-column">
                    <a href="{% url 'product-detail' product.id %}" class="text-decoration-none text-dark">                      
                        <img src="{{ product.product_image.url }}" class="img-fluid d-block mx-auto" alt="{{ product.title }}" style="height: 180px; object-fit: contain;">
                        <br>
                        <p class="mlkpro fw-bold mb-1">{{ product.title }}</p>                     
                        <div class="fw-bold text-danger mb-2">
                            {% if product.selling_price > product.discounted_price %}
                                {{product.discounted_price |floatformat:0}} VNĐ / <small class="fw-light text-decoration-line-through">{{product.selling_price |floatformat:0}} VNĐ</small>
                            {% else %}
                                {{product.selling_price |floatformat:0}} VNĐ
                            {% endif %}
                        </div>
                        <div class="mt-auto">
                            <form action="/orders/add-to-cart" class="d-inline">
                                {% csrf_token %}
                                <input type="hidden" name="prod_id" value={{product.id}} />
                                <button type="submit" class="btn btn-outline-secondary">Thêm vào giỏ hàng</button>
                            </form>
                            <a class="btn btn-outline-success mt-2" href="{% url 'product-detail' product.id %}">Xem</a> 
                        </div>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <br><br>

    <div class="row text-center my-5">
        <div class="col-md-4 mb-3">
            <i class="fas fa-shield-alt fa-2x text-success mb-2"></i>
            <h5>Bảo mật thông tin</h5>
            <p>Cam kết bảo mật tuyệt đối thông tin khách hàng và không chia sẻ cho bên thứ ba.</p>
        </div>
        <div class="col-md-4 mb-3">
            <i class="fas fa-shipping-fast fa-2x text-primary mb-2"></i>
            <h5>Giao hàng nhanh chóng</h5>
            <p>Giao hàng trong 1-2 ngày làm việc tại khu vực nội thành.</p>
        </div>
        <div class="col-md-4 mb-3">
            <i class="fas fa-undo fa-2x text-warning mb-2"></i>
            <h5>Đổi trả dễ dàng</h5>
            <p>Hỗ trợ đổi trả trong vòng 7 ngày nếu sản phẩm có lỗi hoặc không đúng mô tả.</p>
        </div>
    </div>

{% endblock main-content %}

